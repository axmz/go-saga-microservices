syntax = "proto3";

package events;

option go_package = "github.com/axmz/go-saga-microservices/pkg/proto/events;events";

message Item {
  string id = 1;
}

message OrderEventEnvelope {
  oneof event {
    OrderCreatedEvent order_created = 1;
  }
}

message OrderCreatedEvent {
  string id = 1;
  repeated Item items = 2;
}

message InventoryEventEnvelope {
  oneof event {
    InventoryReservationSucceeded reservation_succeeded = 1;
    InventoryReservationFailed reservation_failed = 2;
  }
}

message InventoryReservationSucceeded {
  string id = 1;
}

message InventoryReservationFailed {
  string id = 1;
}

message PaymentEventEnvelope {
  oneof event {
    PaymentSucceeded payment_succeeded = 1;
    PaymentFailed payment_failed = 2;
  }
}

message PaymentSucceeded {
  string id = 1;
}

message PaymentFailed {
  string id = 1;
}
